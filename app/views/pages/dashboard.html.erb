<div class="container" style="min-height: 80vh">
  <h1 class="title-dashboard my-5" >Welcome to your dashboard <%= current_user.first_name if user_signed_in? %>!</h1>
  <div class="container">

  <ul class="list-inline tabs-underlined">
    <li>
      <a href="#" class="tab-underlined active">Bookings</a>
    </li>
    <li>
      <%= link_to "Requests", bookingrequest_path, class: "tab-underlined" %>
    </li>
    <li>
      <%= link_to "Create a machine", new_machine_path, class: "tab-underlined" %>
    </li>
  </ul>

    <div class="dashboard-part" id="dashboard-div1">
      <div class="p">
        <h4>Your upcoming trips</h4>
      </div>
      <div class="card-list d-flex flex-column" style="width: 900px">
        <% @bookings.each do |booking| %>
          <div class="card-product-dashboard w-100">
            <%= cl_image_tag booking.machine.photos.first.key, height: 300, width: 400, crop: :fill %>
            <div class="d-flex justify-content-between align-items-center w-100" >
              <div class="card-product-infos-dashboard ml-2">
                <h2><%= link_to booking.machine.name, machine_path(booking.machine), class:"blue-link" %></h2>
                <p> Your contact for this booking is <%= booking.machine.user.first_name %> <%= booking.machine.user.last_name %> </p>
                <p> Booked at <%= booking.created_at %></p>
                <p>Your booking number is <strong>#TC00<%=booking.id%></strong></p>
              </div>
              <div>
                <% if booking.booking_confirmed? %>
                  <div class="d-flex flex-column align-items-center">
                    <p id="confirmed" class="mb-1">Confirmed</p>
                    <i class="far fa-check-circle" style="color: green"></i>
                  </div>
                <% else %>
                  <div class="d-flex flex-column align-items-center">
                    <p id="pending" class="mb-1">Pending</p>
                    <i class="far fa-question-circle" style="color: orange"></i>
                  </div>
                <% end %>
              </div>
              <div class="d-flex justify-content-around m-4" style="width: 90px">
                <div class="d-flex flex-column align-items-center">
                  <p>View</p>
                  <%= link_to booking_path(booking),
                      method: :get do  %>
                      <i class="fas fa-eye pr-5" style="color: #031069"></i>
                      <% end %>
                </div>
                <div class="d-flex flex-column align-items-center">
                  <p>Delete</p>
                  <%= link_to booking_path(booking),
                    method: :delete,
                    data: { confirm: "Are you sure?" } do  %>
                    <i class="far fa-trash-alt" style="color: #031069"></i>
                    <% end %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>

  </div>
</div>
